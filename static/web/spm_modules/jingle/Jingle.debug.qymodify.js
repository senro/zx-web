define("spm_modules/jingle/Jingle.debug.qymodify",["spm_modules/zepto/zepto","spm_modules/iscroll/iscroll"],function(e,t,n){{var a=e("spm_modules/zepto/zepto"),o=e("spm_modules/iscroll/iscroll");J={version:"0.41",$:a,settings:{appType:"single",transitionType:"slide",transitionTime:250,transitionTimingFunc:"ease-in",toastDuration:3e3,showWelcome:!1,welcomeSlideChange:null,showPageLoading:!1,basePagePath:"html/",basePageSuffix:".html",remotePage:{}},mode:window.innerWidth<800?"phone":"tablet",hasTouch:"ontouchstart"in window,launchCompleted:!1,hasMenuOpen:!1,hasPopupOpen:!1,isWebApp:"http:"==location.protocol,launch:function(e){$.extend(this.settings,e);try{var t=window.localStorage.getItem("hasShowWelcome")}catch(n){}!t&&this.settings.showWelcome&&this.Welcome.show(),this.Element.init(),this.Element.initControlGroup(),this.Router.init(),this.Menu.init()}}}J.Element=function(e){var t={icon:"[data-icon]",scroll:'[data-scroll="true"]',toggle:".toggle",range:"[data-rangeinput]",progress:"[data-progress]",count:"[data-count]",checkbox:"[data-checkbox]"},n=function(n){n||e(document).on("articleshow","article",function(){J.Element.scroll(this)});var a=e(n||"body");0!=a.length&&(e.map(o(a,t.icon),s),e.map(o(a,t.toggle),r),e.map(o(a,t.range),l),e.map(o(a,t.progress),c),e.map(o(a,t.count),u),e.map(o(a,t.checkbox),d),a=null)},a=function(){e(document).on("tap","ul.control-group li",function(){var t=e(this);t.hasClass("active")||t.addClass("active").siblings(".active").removeClass("active").parent().trigger("change",[t])})},o=function(e,t){return e.find(t).add(e.filter(t))},i=function(n){e.map(o(e(n),t.scroll),function(e){J.Scroll(e)})},s=function(t){var n=e(t),a=n.children("i.icon"),o=n.data("icon");a.length>0?a.attr("class","icon "+o):n.prepend('<i class="icon '+o+'"></i>')},r=function(t){var n=e(t);if(!(n.find("div.toggle-handle").length>0)){var a=n.attr("name");a&&n.append('<input style="display: none;" name="'+a+'" value="'+n.hasClass("active")+'"/>'),n.append('<div class="toggle-handle"></div>'),n.tap(function(){var t=e(this),n=!t.hasClass("active");t.toggleClass("active").trigger("toggle",[n]),t.find("input").val(n)})}},l=function(t){var n,a=e(t),o=e('input[type="range"]',t),i=a.data("rangeinput"),s=e('<input type="number" name="test" value="'+o.val()+'"/>');n="left"==i?s.prependTo(a):s.appendTo(a);var r=parseInt(o.attr("max"),10),l=parseInt(o.attr("min"),10);o.change(function(){n.val(o.val())}),n.on("input",function(){var e=parseInt(n.val(),10);e=e>r?r:l>e?l:e,o.val(e),n.val(e)})},c=function(t){var n,a=e(t),o=parseFloat(a.data("progress"))+"%",i=a.data("title")||"";n=a.find("div.bar"),0==n.length&&(n=e('<div class="bar"></div>').appendTo(a)),n.width(o).text(i+o),"100%"==o&&n.css("border-radius","10px")},u=function(t){var n=e(t),a=n.find("span.count"),o=parseInt(n.data("count")),i=n.data("orient"),s="left"==i?"left":"";a.length>0?a.text(o).show():a=e('<span class="count '+s+'">'+o+"</span>").appendTo(n),0==o&&a.hide()},d=function(t){var n=e(t),a=n.data("checkbox");n.find("i.icon").length>0||(n.prepend('<i class="icon checkbox-'+a+'"></i>'),n.on("tap",function(){var e="checked"==n.data("checkbox")?"unchecked":"checked";n.data("checkbox",e).find("i.icon").attr("class","icon checkbox-"+e),n.trigger("change")}))};return{init:n,initControlGroup:a,icon:s,toggle:r,progress:c,range:l,badge:u,scroll:i}}(J.$),J.Menu=function(e){var t,n,a,o=function(){t=e("#aside_container"),n=e("#section_container"),a=e('<div id="section_container_mask"></div>').appendTo("#section_container"),a.on("tap",s),t.on("swipeRight","aside",function(){"right"==e(this).data("position")&&s()}),t.on("swipeLeft","aside",function(){"right"!=e(this).data("position")&&s()}),t.on("tap",".aside-close",s)},i=function(t){var a=e(t).addClass("active"),o=a.data("transition"),i=a.data("position")||"left",s=a.data("show-close"),r=a.width(),l="left"==i?r+"px":"-"+r+"px";s&&0==a.find("div.aside-close").length&&a.append('<div class="aside-close icon close"></div>'),J.Element.scroll(a),"overlay"==o?J.anim(a,{translateX:"0%"}):"reveal"==o?J.anim(n,{translateX:l}):(J.anim(a,{translateX:"0%"}),J.anim(n,{translateX:l})),e("#section_container_mask").show(),J.hasMenuOpen=!0},s=function(t,a){var o=e("#aside_container aside.active"),i=o.data("transition"),s=o.data("position")||"left",r="left"==s?"-100%":"100%",l=function(){o.removeClass("active"),J.hasMenuOpen=!1,a&&a.call(this)};"overlay"==i?J.anim(o,{translateX:r},t,l):"reveal"==i?J.anim(n,{translateX:"0"},t,l):(J.anim(o,{translateX:r},t),J.anim(n,{translateX:"0"},t,l)),e("#section_container_mask").hide()};return{init:o,show:i,hide:s}}(J.$),J.Page=function(e){var t=function(e){return 0==e.indexOf("#")?e.substr(1):e},n=function(n,a){var i,s={},r=!1;"object"==e.type(n)&&(s=n.param,i=n.query,n=n.tag);var l=e(n).data("query");if(1==e(n).length){if(l==i)return void a();r=!0}var c=t(n),u=J.settings.remotePage[n];u||(u=J.settings.basePagePath+c+J.settings.basePageSuffix),J.settings.showPageLoading&&J.showMask(),o(u,s,function(t){J.settings.showPageLoading&&J.hideMask(),e(n).remove();var o=e(t);e("#section_container").append(o),r&&o.addClass("active"),o.trigger("pageload").data("query",i),J.Element.init(n),a(),o=null})},a=function(t,n){var a=J.Util.parseHash(window.location.hash).param;o(t,a,function(t){e(n).html(t),J.Element.init(n)})},o=function(t,n,a){return e.ajax({url:t,timeout:2e4,data:n,success:function(e){a&&a(e)}})};return{load:n,loadSection:a,loadContent:o}}(J.$),J.Router=function(e){var t=[],n=function(){e(window).on("popstate",o),e(document).on("click","a",function(t){var n=e(this).data("target"),a=e(this).attr("href");return!a||a.match(/^#/)||n?(t.preventDefault(),!1):void 0}),e(document).on("tap","a[data-target]",i),a()},a=function(){var t=location.hash,n=e("#section_container section").first(),a="#"+n.attr("id");c(a,!0),""!=t&&t!=a?s(t):n.trigger("pageinit").trigger("pageshow").data("init",!0).find("article.active").trigger("articleshow")},o=function(e){if(e.state&&e.state.hash){var n=e.state.hash;t[1]&&n===t[1].hash&&(J.hasMenuOpen&&J.Menu.hide(),J.hasPopupOpen&&J.Popup.close(),r())}},i=function(){var t=e(this),n=t.attr("data-target"),a=t.attr("href");switch(n){case"section":"single"==J.settings.appType&&s(a);break;case"article":u(a,t);break;case"menu":d(a);break;case"back":window.history.go(-1)}},s=function(n){var a=J.Util.parseHash(n);if(J.hasMenuOpen)return void J.Menu.hide(200,function(){s(a.hash),e(a.tag).attr("data-query",a.query)});var o=t[0];o.hash!==a.hash&&J.Page.load(a,function(){var t=o.tag==a.tag;t?e(o.tag).trigger("pageshow").find("article.active").trigger("articlehide"):(l(o.tag,a.tag),e(a.tag).attr("data-query",a.query)),c(n,t)})},r=function(){"single"==J.settings.appType&&l(t.shift().tag,t[0].tag,!0)},l=function(e,t,n){J.Transition.run(e,t,n)},c=function(e,n){var a=J.Util.parseHash(e);n?(t.shift(a),window.history.replaceState(a,"",e)):window.history.pushState(a,"",e),t.unshift(a)},u=function(t,n){var a=e(t);if(!a.hasClass("active")){n.addClass("active").siblings(".active").removeClass("active");var o=a.addClass("active").siblings(".active").removeClass("active");a.trigger("articleshow"),o.trigger("articlehide")}},d=function(e){J.hasMenuOpen?J.Menu.hide():J.Menu.show(e)};return{init:n,goTo:s,showArticle:u,back:r}}(J.$),J.Service=function(e){function t(t,n,a,o){var i=!e.isFunction(n);return{url:t,data:i?n:void 0,success:i?e.isFunction(a)?a:void 0:n,dataType:i?o||a:a}}var n="JINGLE_POST_DATA",a="JINGLE_GET_",o=function(e){"post"==e.type?i(e):s(e)},i=function(t){J.offline?(c(t.url,t.data),t.success("数据已存至本地")):e.ajax(t)},s=function(t){var n=t.url+JSON.stringify(t.data);if(J.offline){var a=r(n);a?t.success(a.data,n,a.cacheTime):t.success(a)}else{var o=t.success;t.success=function(e){l(n,e),o(e,n)},e.ajax(t)}},r=function(e){return JSON.parse(window.localStorage.getItem(a+e))},l=function(e,t){var n={data:t,cacheTime:new Date};window.localStorage.setItem(a+e,JSON.stringify(n))},c=function(e,t){var a=u();a=a||{},a[e]={data:t,createdTime:new Date},window.localStorage.setItem(n,JSON.stringify(a))},u=function(e){var t=JSON.parse(window.localStorage.getItem(n));return t&&e?t[e]:t},d=function(e){if(e){var t=u();delete t[e],window.localStorage.setItem(n,JSON.stringify(t))}else window.localStorage.removeItem(n)},p=function(t,n,a){var o=u(t).data;e.ajax({url:t,contentType:"application/json",data:o,type:"post",success:function(){n(t)},error:function(){a(t)}})},h=function(e,t){var n=u();for(var a in n)p(a,e,t);d()},f=function(){return o(t.apply(null,arguments))},g=function(){var e=t.apply(null,arguments);return e.type="POST",o(e)},v=function(){var e=t.apply(null,arguments);return e.dataType="json",o(e)},m=function(){for(var e=window.localStorage,t=[],o=0;o<e.length;o++){var i=e.key(o);0==i.indexOf(a)&&t.push(i)}for(var o=0;o<t.length;o++)e.removeItem(t[o]);e.removeItem(n)};return{ajax:o,get:f,post:g,getJSON:v,getUnPostData:u,removeUnPostData:d,syncPostData:p,syncAllPostData:h,getCacheData:r,saveCacheData:l,clear:m}}(J.$),J.Template=function(e){var t=function(t,n,a){var o='<div class="back-mask"><div class="icon '+a+'"></div><div>'+n+"</div></div>";e(t).html(o)},n=function(e){t(e,"没有找到相关数据","drawer")},a=function(e){t(e,"加载中...","cloud-download")},o=function(t,a,o,i){var s=e(t),i=i||"replace";if("array"==e.type(o)&&0==o.length)n(s);else{var r=template(a,o);"replace"==i?s.html(r):s.append(r),J.Element.init(r)}};return{render:o,background:t,loading:a,no_result:n}}(J.$),J.Toast=function(e){var t,n,a="toast",o={toast:'<a href="#">{value}</a>',success:'<a href="#"><i class="icon checkmark-circle"></i>{value}</a>',error:'<a href="#"><i class="icon cancel-circle"></i>{value}</a></div>',info:'<a href="#"><i class="icon info-2"></i>{value}</a>'},i=function(){e("body").append('<div id="jingle_toast"></div>'),t=e("#jingle_toast"),l()},s=function(){J.anim(t,"scaleOut",function(){t.hide(),t.empty()})},r=function(e,i,r){n&&clearTimeout(n);var l=e.split(/\s/);a=l[0],t.attr("class",e).html(o[a].replace("{value}",i)).show(),J.anim(t,"scaleIn"),0!==r&&(n=setTimeout(s,r||J.settings.toastDuration))},l=function(){t.on("tap",'[data-target="close"]',function(){s()})};return i(),{show:r,hide:s}}(J.$),J.Transition=function(e){var t,n,a,o,i={slide:[["slideLeftOut","slideLeftIn"],["slideRightOut","slideRightIn"]],cover:[["","slideLeftIn"],["slideRightOut",""]],slideUp:[["","slideUpIn"],["slideDownOut",""]],slideDown:[["","slideDownIn"],["slideUpOut",""]],popup:[["","scaleIn"],["scaleOut",""]]},s=function(){n.trigger("beforepagehide",[t]),a.trigger("beforepageshow",[t]);var e=o[0]||"empty",i=o[1]||"empty";n.bind("webkitAnimationEnd.jingle",r).addClass("anim "+e),a.addClass("anim animating "+i)},r=function(){n.off("webkitAnimationEnd.jingle"),a.off("webkitAnimationEnd.jingle"),n.attr("class",""),a.attr("class","active"),!a.data("init")&&a.trigger("pageinit").data("init",!0),!n.data("init")&&n.trigger("pageinit").data("init",!0),n.trigger("pagehide",[t]),a.trigger("pageshow",[t]),n.find("article.active").trigger("articlehide"),a.find("article.active").trigger("articleshow"),n=a=null},l=function(r,l,c){e(":focus").trigger("blur"),t=c,n=e(r),a=e(l);var u=t?n.attr("data-transition"):a.attr("data-transition");u=u||J.settings.transitionType,o=t?i[u][1]:i[u][0],s()},c=function(e,t,n,a,o){return i[e]?void console.error("该转场动画已经存在，请检查你自定义的动画名称(名称不能重复)"):void(i[e]=[[t,n],[a,o]])};return{run:l,add:c}}(J.$),J.Util=function(){var e=function(e){var t,n,a={},o=e.split("?");if(t=o[0],o.length>1){var i,s;n=o[1],i=n.split("&");for(var r=0;r<i.length;r++)i[r]&&(s=i[r].split("="),a[s[0]]=s[1])}return{hash:e,tag:t,query:n,param:a}},t=function(e,t){var n={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length)));for(var a in n)new RegExp("("+a+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?n[a]:("00"+n[a]).substr((""+n[a]).length)));return t};return{parseHash:e,formatDate:t}}(J.$),J.Welcome=function(e){var t=function(){e.ajax({url:J.settings.basePagePath+"welcome.html",timeout:5e3,async:!1,success:function(t){e("body").append(t),new J.Slider({selector:"#jingle_welcome",onAfterSlide:J.settings.welcomeSlideChange})}})},n=function(){J.anim("#jingle_welcome","slideLeftOut",function(){e(this).remove(),window.localStorage.setItem("hasShowWelcome",!0)})};return{show:t,hide:n}}(J.$),function(e){J.anim=function(t,n){for(var a,o,i,s=arguments.length,r=2;s>r;r++){var l=arguments[r],c=e.type(l);"number"==c?a=l:"string"==c?o=l:"function"==c?i=l:null}e(t).animate(n,a||J.settings.transitionTime,o||J.settings.transitionTimingFunc,i)},J.showMask=function(e){J.Popup.loading(e)},J.hideMask=function(){J.Popup.close(!0)},J.showToast=function(t,n,a){n=n||"toast",J.Toast.show(n,t,a),e("input").blur()},J.hideToast=function(){J.Toast.hide()},J.alert=function(e,t){J.Popup.alert(e,t)},J.confirm=function(e,t,n,a){J.Popup.confirm(e,t,n,a)},J.popup=function(e){J.Popup.show(e)},J.closePopup=function(){J.Popup.close()},J.popover=function(e,t,n,a){J.Popup.popover(e,t,n,a)},J.tmpl=function(e,t,n,a){J.Template.render(e,t,n,a)}}(J.$),J.Popup=function(e){var t,n,a,o,i={top:{top:0,left:0,right:0},"top-second":{top:"44px",left:0,right:0},center:{top:"50%",left:"5%",right:"5%","border-radius":"3px"},bottom:{bottom:0,left:0,right:0},"bottom-second":{bottom:"51px",left:0,right:0}},s={top:["slideDownIn","slideUpOut"],bottom:["slideUpIn","slideDownOut"],defaultAnim:["bounceIn","bounceOut"]},r={alert:'<div class="popup-title">{title}</div><div class="popup-content">{content}</div><div id="popup_btn_container"><a data-target="closePopup" data-icon="checkmark">{ok}</a></div>',confirm:'<div class="popup-title">{title}</div><div class="popup-content">{content}</div><div id="popup_btn_container"><a class="cancel" data-icon="close">{cancel}</a><a data-icon="checkmark">{ok}</a></div>',loading:'<i class="icon spinner"></i><p>{title}</p>'},l=function(){e("body").append('<div id="jingle_popup"></div><div id="jingle_popup_mask"></div>'),n=e("#jingle_popup_mask"),t=e("#jingle_popup"),d()},c=function(r){var l={height:void 0,width:void 0,opacity:.3,url:null,tplId:null,tplData:null,html:"",pos:"center",clickMask2Close:!0,showCloseBtn:!0,arrowDirection:void 0,animation:!0,timingFunc:"linear",duration:200,onShow:void 0};e.extend(l,r),o=l.clickMask2Close,n.css("opacity",l.opacity),t.attr({style:"","class":""}),l.width&&t.width(l.width),l.height&&t.height(l.height);var c=e.type(l.pos);if("object"==c)t.css(l.pos),a=s.defaultAnim;else{if("string"!=c)return void console.error("错误的参数！");if(i[l.pos]){t.css(i[l.pos]);var u=l.pos.indexOf("top")>-1?"top":l.pos.indexOf("bottom")>-1?"bottom":"defaultAnim";a=s[u]}else t.addClass(l.pos),a=s.defaultAnim}n.show();var d;if(l.html?d=l.html:l.url?d=J.Page.loadContent(l.url):l.tplId&&(d=template(l.tplId,l.tplData)),l.showCloseBtn&&(d+='<div id="tag_close_popup" data-target="closePopup" class="icon cancel-circle"></div>'),l.arrowDirection&&(t.addClass("arrow "+l.arrowDirection),t.css("padding","8px"),("top"==l.arrowDirection||"bottom"==l.arrowDirection)&&(a=s[l.arrowDirection])),t.html(d).show(),J.Element.init(t),l.onShow&&l.onShow.call(t),"center"==l.pos){var p=t.height();t.css("margin-top","-"+p/2+"px")}l.animation&&J.anim(t,a[0],l.duration,l.timingFunc),J.hasPopupOpen=!0},u=function(e){n.hide(),a&&!e?J.anim(t,a[1],200,function(){t.hide().empty(),J.hasPopupOpen=!1}):(t.hide().empty(),J.hasPopupOpen=!1)},d=function(){n.on("tap",function(){o&&u()}),t.on("tap",'[data-target="closePopup"]',function(){u()})},p=function(e,t,n){var a=r.alert.replace("{title}",e).replace("{content}",t).replace("{ok}",n||"确定");c({html:a,pos:"center",clickMask2Close:!1,showCloseBtn:!1})},h=function(t,n,a,o){var i=r.confirm.replace("{title}",t).replace("{content}",n).replace("{cancel}","取消").replace("{ok}","确定");c({html:i,pos:"center",clickMask2Close:!1,showCloseBtn:!1}),e('#popup_btn_container [data-icon="checkmark"]').tap(function(){u(),a.call(this)}),e('#popup_btn_container [data-icon="close"]').tap(function(){u(),o.call(this)})},f=function(e,t,n,a){c({html:e,pos:t,showCloseBtn:!1,arrowDirection:n,onShow:a})},g=function(e){var t=r.loading.replace("{title}",e||"加载中...");c({html:t,pos:"loading",opacity:.1,animation:!0,clickMask2Close:!1})},v=function(t){var n='<div class="actionsheet">';e.each(t,function(e,t){n+='<button style="background-color: '+t.color+' !important;">'+t.text+"</button>"}),n+='<button class="alizarin">取消</button>',n+="</div>",c({html:n,pos:"bottom",showCloseBtn:!1,onShow:function(){e(this).find("button").each(function(n,a){e(a).on("tap",function(){t[n]&&t[n].handler&&t[n].handler.call(a),u()})})}})};return l(),{show:c,close:u,alert:p,confirm:h,popover:f,loading:g,actionsheet:v}}(J.$),J.Selected=function(e){var t=100,n="[data-selected]",a=e.fn.trigger;e.fn.trigger=function(o){var i,s=e(this),r=arguments;if("tap"===o||"tap"===o.type){var l=s.closest(n).get(0);if(l)return l=e(l),i=l.data("selected"),l.addClass(i),setTimeout(function(){l.removeClass(i),a.apply(s,r),s=l=null},t),this}return a.apply(s,r),this}}(J.$),J.Cache=function(e){var t="_J_P_",n="_J_",a=function(e,t){var a={data:t,cacheTime:new Date};window.localStorage.setItem(n+e,JSON.stringify(a))},o=function(e){return JSON.parse(window.localStorage.getItem(n+e))},i=function(e,n){var a=s();a=a||{},a[e]={data:n,createdTime:new Date},window.localStorage.setItem(t,JSON.stringify(a))},s=function(e){var n=JSON.parse(window.localStorage.getItem(t));return n&&e?n[e]:n},r=function(e){if(e){var n=s();delete n[e],window.localStorage.setItem(t,JSON.stringify(n))}else window.localStorage.removeItem(t)},l=function(t,n,a){function o(t){var o=s(t).data;e.ajax({url:t,contentType:"application/json",data:o,type:"post",success:function(){l++,r(t),l==i&&n(t)},error:function(){a(t)}})}var i,l=0;if("string"==e.type(t))i=1,o(t);else{var c=s();if(!c)return;i=c.length;for(var t in c)o(t)}},c=function(){var e=window.localStorage;for(var a in e)0==a.indexOf(n)&&e.removeItem(a);e.removeItem(t)};return{get:o,save:a,getPost:s,savePost:i,removePost:r,syncPost:l,clear:c}}(J.$),function(e){var t=function(t,n){var a,o,i,s,r,l,c={months:["01月","02月","03月","04月","05月","06月","07月","08月","09月","10月","11月","12月"],days:["日","一","二","三","四","五","六"],swipeable:!0,date:new Date,onRenderDay:void 0,onSelect:void 0},u=this,d=e(t),p=function(){u.settings=e.extend({},c,n),r=u.settings.date.getFullYear(),l=u.settings.date.getMonth(),s=new Date(r,l,u.settings.date.getDate()),g(),b()},h=function(e){return new Date(e.getFullYear(),e.getMonth(),1).getDay()},f=function(e){return new Date(e.getFullYear(),e.getMonth()+1,0).getDate()},g=function(){var e="";e+='<div class="jingle-calendar">',e+=v(r,l),e+=m(),e+='<div class="jingle-calendar-body">',e+=w(s),e+="</div></div>",d.html(e);var t=d.find("span");a=t.eq(0),o=t.eq(1),i=d.find(".jingle-calendar-body")},v=function(e,t){var n='<div class="jingle-calendar-nav">';return n+='<div> <i class="icon previous" data-year='+e+"></i><span>"+e+'</span><i class="icon next" data-year='+e+"></i></div>",n+='<div ><i class="icon previous" data-month='+t+"></i> <span>"+u.settings.months[t]+'</span><i class="icon next" data-month='+t+"></i></div>",n+="</div>"},m=function(){for(var e="<table><thead><tr>",t=0;7>t;t++)e+="<th>"+u.settings.days[t]+"</th>";return e+="</tr></thead></table>"},w=function(e){var t,n=h(e),a=f(e),o=Math.ceil((n+a)/7),i="";r=e.getFullYear(),l=e.getMonth(),t=new Date(r,l,1-n),i+="<table><tbody>";for(var s=0;o>s;s++){i+="<tr>";for(var c=0;7>c;c++)i+=y(t,l),t.setDate(t.getDate()+1);i+="</tr>"}return i+="</tbody></table>"},y=function(e,t){var n=e.getMonth()!==t,a=u.format(e),o=u.format(u.settings.date)==a?"active":"",i=e.getDate();return u.settings.onRenderDay&&(i=u.settings.onRenderDay.call(null,i,a)),n?"<td>&nbsp;</td>":'<td data-selected="selected" class="'+o+'" data-date= '+a+">"+i+"</td>"},b=function(){var t,n;d.on("tap",function(a){if(t=e(a.target),t.is("[data-year].next")?(s.setFullYear(s.getFullYear()+1),u.refresh(s)):t.is("[data-year].previous")?(s.setFullYear(s.getFullYear()-1),u.refresh(s)):t.is("[data-month].next")?(s.setMonth(s.getMonth()+1),u.refresh(s)):t.is("[data-month].previous")&&(s.setMonth(s.getMonth()-1),u.refresh(s)),n=t.closest("td"),!t.is("td")&&n.length>0&&(t=n),t.is("td")){var o=t.data("date");o&&u.settings.onSelect&&u.settings.onSelect.call(u,o)}}),d.on("swipeLeft",function(){s.setMonth(s.getMonth()+1),u.refresh(s)}),d.on("swipeRight",function(){s.setMonth(s.getMonth()-1),u.refresh(s)})};this.refresh=function(e){var t=new Date(r,l,1),n=new Date(e.getFullYear(),e.getMonth(),1),s=void 0;if(t.getTime()!=n.getTime()){s=n>t?"slideLeftRound":"slideRightRound",a.text(e.getFullYear()),o.text(this.settings.months[e.getMonth()]);var c=w(e);J.anim(i,s,function(){i.html(c)})}},p()};t.prototype.parse=function(e){var t=/^(\d{4})(?:\-|\/)(\d{1,2})(?:\-|\/)(\d{1,2})$/;return t.test(e)?new Date(parseInt(RegExp.$1,10),parseInt(RegExp.$2,10)-1,parseInt(RegExp.$3,10)):null},t.prototype.format=function(e){var t=e.getFullYear(),n=e.getMonth()+1,a=e.getDate();return n=10>n?"0"+n:n,a=10>a?"0"+a:a,t+"-"+n+"-"+a},J.Calendar=t}(J.$),function(e){var t={},n=1;J.Scroll=function(a,i){var s,r,l=e(a),c={hScroll:!1,bounce:!1,lockDirection:!0,useTransform:!0,useTransition:!1,checkDOMChanges:!1,onBeforeScrollStart:function(t){e("select,input,textarea").blur();for(var n=t.target;1!=n.nodeType;)n=n.parentNode;"SELECT"!=n.tagName&&"INPUT"!=n.tagName&&"TEXTAREA"!=n.tagName&&t.preventDefault()}};return r=l.data("_jscroll_"),r&&t[r]?(s=t[r],e.extend(s.scroller.options,i),s.scroller.refresh(),s):(r="_jscroll_"+n++,l.data("_jscroll_",r),e.extend(c,i),scroller=new o(l[0],c),t[r]={scroller:scroller,destroy:function(){scroller.destroy(),delete t[r]}})}}(J.$),function(e){function t(t,n){var a,o,i,s,r,l,c,u,d=function(){},p=function(){return!0},h=!1,f=0,g=200;interval=0;var v=this;e.isPlainObject(t)?(a=e(t.selector),n=t.showDots,p=t.onBeforeSlide||p,d=t.onAfterSlide||d,u=t.autoPlay,interval=t.interval||3e3):a=e(t);var m=function(){i=a.children().first(),s=i.children(),r=s.length,l=a.offset().width,i.css("width",r*l),s.css({width:l,"float":"left"}).show(),void 0==n&&(n=!0),n&&J(),y(0,0),d(0),u&&w()},w=function(){setTimeout(function(){f==r-1?y(0):v.next(),w()},interval)},J=function(){if(o=a.find(".dots"),o.length>0)o.show();else{for(var t=30*r+20+2,n='<div class="dots"><ul>',i=0;r>i;i++)n+='<li index="'+i+'"',0==i&&(n+='class="active"'),n+='><a href="#"></a></li>';n+="</ul></div>",a.append(n),o=a.find(".dots"),o.children().css("width",t+"px"),o.find("li").on("tap",function(){var t=e(this).attr("index");y(parseInt(t),g)})}},y=function(t,n){n=n||g,i.css({"-webkit-transition-duration":n+"ms","-webkit-transform":"translate3D("+-(t*l)+"px,0,0)"}),f!=t&&(f=t,o&&e(o.find("li").get(f)).addClass("active").siblings().removeClass("active"),d(f))},b=function(){i.on("touchstart",x,!1),i.on("touchmove",P,!1),i.on("touchend",T,!1)},x=function(e){var t=e.touches[0];start={pageX:t.pageX,pageY:t.pageY,time:Number(new Date)},isScrolling=void 0,c=0,i[0].style.webkitTransitionDuration=0,h=!0},P=function(e){if(h){var t=e.touches[0];if(c=t.pageX-start.pageX,"undefined"==typeof isScrolling&&(isScrolling=Math.abs(c)<Math.abs(t.pageY-start.pageY)),!isScrolling){e.preventDefault();var n=!f&&c>0||f==r-1&&0>c;if(n)return;var a=c-f*l;i[0].style.webkitTransform="translate3D("+a+"px,0,0)"}}},T=function(){var e=Number(new Date)-start.time<250&&Math.abs(c)>20||Math.abs(c)>l/3,t=!f&&c>0||f==r-1&&0>c;isScrolling||(p(f,c)?y(f+(e&&!t?0>c?1:-1:0),g):y(f)),h=!1};m(),b(),this.refresh=function(){i.attr("style",""),m()},this.prev=function(){f&&y(f-1,g)},this.next=function(){r-1>f&&y(f+1,g)},this.index=function(e){y(e)}}J.Slider=t}(J.$),function(e){function t(t,n,a,o,i){var s,r,l,c,u,d,p,h,f,g,v={selector:void 0,type:"pullDown",minPullHeight:10,pullText:"下拉刷新...",releaseText:"松开立即刷新...",refreshText:"刷新中...",refreshTip:!1,onPullIcon:"arrow-down-2",onReleaseIcon:"icon-reverse",onRefreshIcon:"spinner",callback:void 0,forceOpenPullDown:!1,forceOpenPullDownCallback:void 0,forceOpenPullDown_pullText:"下拉刷新...",forceOpenPullDown_releaseText:"松开立即刷新...",forceOpenPullDown_refreshText:"刷新中...",forceOpenPullDown_refreshTip:!1,forceOpenPullDown_onPullIcon:"arrow-down-2"};"object"==typeof t?e.extend(v,t):(v.selector=t,v.type=n,v.callback=a,v.forceOpenPullDown=o,v.forceOpenPullDownCallback=i,"pullUp"===n&&e.extend(v,{pullText:"上拉加载更多...",releaseText:"松开开立即加载...",refreshText:"加载中...",onPullIcon:"arrow-up-3"})),p="pullDown"===v.type?!0:!1;var m=function(t){r=e(t.selector).children()[0];var n='<div class="refresh-container"><span class="refresh-icon icon '+t.onPullIcon+'"></span><span class="refresh-label">'+t.pullText+"</span>"+(t.refreshTip?'<div class="refresh-tip">'+t.refreshTip+"</div>":"")+"</div>";if(p)l=e(n).prependTo(r);else if(l=e(n).appendTo(r),t.forceOpenPullDown){var a='<div class="refresh-container"><span class="refresh-icon icon '+t.forceOpenPullDown_onPullIcon+'"></span><span class="refresh-label">'+t.forceOpenPullDown_pullText+"</span>"+(t.forceOpenPullDown_refreshTip?'<div class="refresh-tip">'+t.forceOpenPullDown_refreshTip+"</div>":"")+"</div>";h=e(a).prependTo(r),f=h.find(".refresh-icon"),g=h.find(".refresh-label")}d=l.height(),c=l.find(".refresh-icon"),u=l.find(".refresh-label")},w=function(e){return J.Scroll(e.selector,{topOffset:p?d:0,bounce:!0,onScrollMove:function(){this.y>e.minPullHeight&&p&&!c.hasClass(e.onReleaseIcon)?(l.show(),c.addClass(e.onReleaseIcon),u.html(e.releaseText),this.minScrollY=0):this.y<e.minPullHeight&&p&&c.hasClass(e.onReleaseIcon)?(l.show(),c.removeClass(e.onReleaseIcon),u.html(e.pullText),this.minScrollY=-d):this.y>0&&this.y>e.minPullHeight&&!p&&e.forceOpenPullDown&&!f.hasClass(e.onReleaseIcon)?(h.show(),f.addClass(e.onReleaseIcon),g.html(e.forceOpenPullDown_releaseText),this.minScrollY=0):this.y>0&&this.y<e.minPullHeight&&!p&&e.forceOpenPullDown&&f.hasClass(e.onReleaseIcon)?(h.show(),f.removeClass(e.onReleaseIcon),g.html(e.forceOpenPullDown_pullText),this.minScrollY=-d):this.y<0&&this.y<this.maxScrollY-e.minPullHeight&&!p&&!c.hasClass(e.onReleaseIcon)?(l.show(),c.addClass(e.onReleaseIcon),u.html(e.releaseText),this.maxScrollY=this.maxScrollY):this.y<0&&this.y>this.maxScrollY+e.minPullHeight&&!p&&c.hasClass(e.onReleaseIcon)&&(l.show(),c.removeClass(e.onReleaseIcon),u.html(e.pullText),this.maxScrollY=d)},onScrollEnd:function(){if(c.hasClass(e.onReleaseIcon)){c.removeClass(e.onReleaseIcon).removeClass(e.onPullIcon).addClass(e.onRefreshIcon),u.html(e.refreshText);var t=this;setTimeout(function(){e.callback.call(t,l)},1),h.hide()}else if(e.forceOpenPullDown&&f.hasClass(e.onReleaseIcon)){f.removeClass(e.onReleaseIcon).removeClass(e.forceOpenPullDown_onPullIcon).addClass(e.onRefreshIcon),g.html(e.forceOpenPullDown_refreshText);var t=this;setTimeout(function(){e.forceOpenPullDownCallback.call(t,h)},1),l.hide()}},onRefresh:function(){c.removeClass(e.onReleaseIcon).removeClass(e.onPullIcon).addClass(e.onRefreshIcon),u.html(e.refreshText),f.removeClass(e.onReleaseIcon).removeClass(e.forceOpenPullDown_onPullIcon).addClass(e.onRefreshIcon),g.html(e.forceOpenPullDown_refreshText)}})};return m(v),s=w(v)}var n={},a=1;J.Refresh=function(o,i,s,r,l){var c,u;if(c=e(o.selector?o.selector:o),u=c.data("_jrefresh_"),u&&n[u])return n[u];u="_jrefresh_"+a++,c.data("_jrefresh_",u);var d=new t(o,i,s,r,l);return n[u]={scroller:d.scroller,destroy:function(){delete n[u],d.scroller.destroy(),e(".refresh-container",o).remove()}}}}(J.$),n.exports=J});